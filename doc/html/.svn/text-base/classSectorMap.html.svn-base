<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SectorMap class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>SectorMap Class Reference</h1>MAD-like Sectormap objects. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="SectorMap_8h-source.html">SectorMap.h</a>&gt;</code>
<p>
<a href="classSectorMap-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="SectorMap::SectorMap"></a>
&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a0">SectorMap</a> ()</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">construct empty map</em><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a1" doxytag="SectorMap::SectorMap"></a>
&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a1">SectorMap</a> (const SectorMap &amp;S)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">copy constructor</em><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a2">SectorMap</a> (double sigx, double sigy, double R, double length, double gamma0)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">construct a simple continuous focusing element</em> <a href="#a2"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a4" doxytag="SectorMap::operator="></a>
SectorMap &amp;&nbsp;</td><td valign=bottom><b>operator=</b> (const SectorMap &amp;M)</td></tr>
<tr><td nowrap align=right valign=top><a name="a5" doxytag="SectorMap::operator *"></a>
SectorMap&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a5">operator *</a> (const SectorMap &amp;M)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">multiply two maps</em><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a6" doxytag="SectorMap::get_name"></a>
string &amp;&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a6">get_name</a> ()</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">get or set element name</em><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a7" doxytag="SectorMap::get_L"></a>
double &amp;&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a7">get_L</a> ()</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">get or set element length</em><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a8" doxytag="SectorMap::get_K"></a>
double &amp;&nbsp;</td><td valign=bottom><b>get_K</b> (int j)</td></tr>
<tr><td nowrap align=right valign=top><a name="a9" doxytag="SectorMap::get_T"></a>
double &amp;&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a9">get_T</a> (int j, int i)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">get or set matrix elements</em><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a10" doxytag="SectorMap::get_twiss"></a>
<a class="el" href="structTwissP.html">TwissP</a> &amp;&nbsp;</td><td valign=bottom><b>get_twiss</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a11" doxytag="SectorMap::get_betx"></a>
double&nbsp;</td><td valign=bottom><b>get_betx</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a12" doxytag="SectorMap::get_bety"></a>
double&nbsp;</td><td valign=bottom><b>get_bety</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a13" doxytag="SectorMap::get_map"></a>
SectorMap *&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a13">get_map</a> ()</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">return pointer to sectormap</em><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a14">phase_advance</a> (double &amp;sigx, double &amp;sigy)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">calculates phase advances per element</em> <a href="#a14"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classSectorMap.html#a15">transport</a> (vektor &amp;R1, vektor &amp;R0)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">transport particle coordinates through the sector</em> <a href="#a15"></a><em></em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
MAD-like Sectormap objects.
<p>

<p>
Definition at line <a class="el" href="SectorMap_8h-source.html#l00011">11</a> of file <a class="el" href="SectorMap_8h-source.html">SectorMap.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a2" doxytag="SectorMap::SectorMap"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> SectorMap::SectorMap </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>sigx</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>sigy</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>R</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>gamma0</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
construct a simple continuous focusing element
<p>
Generates a linear transport map for a simple continous focusing element of length=length, bending radius R and phase advances [grad] sigma_x and sigma_y 
<p>
Definition at line <a class="el" href="SectorMap_8cpp-source.html#l00020">20</a> of file <a class="el" href="SectorMap_8cpp-source.html">SectorMap.cpp</a>.
<p>
References <a class="el" href="SectorMap_8h-source.html#l00005">TwissP::alpx</a>, <a class="el" href="SectorMap_8h-source.html#l00005">TwissP::alpy</a>, <a class="el" href="SectorMap_8h-source.html#l00005">TwissP::betx</a>, <a class="el" href="SectorMap_8h-source.html#l00005">TwissP::bety</a>, <a class="el" href="SectorMap_8h-source.html#l00005">TwissP::Dx</a>, and <a class="el" href="SectorMap_8h-source.html#l00044">get_T()</a>.
<p>
<div class="fragment"><pre>00021 {
00022  ElementName=<span class="stringliteral">"CF"</span>;
00023  L=length;
00024  <span class="keywordtype">double</span> beta0=sqrt((gamma0*gamma0-1.0)/(gamma0*gamma0));
00025  <span class="keywordtype">double</span> eta0=pow(R*sigx/length,2)-1.0/pow(gamma0,2);
00026  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;36; j++) T[j]=0.0; 
00027  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;6; j++)  K[j]=0.0; 
00028  <a class="code" href="classSectorMap.html#a9">get_T</a>(0,0)=cos(sigx);
00029  <a class="code" href="classSectorMap.html#a9">get_T</a>(0,1)=length/sigx*sin(sigx);
00030  <span class="keywordflow">if</span> (R&gt;0.0)
00031   <a class="code" href="classSectorMap.html#a9">get_T</a>(0,5)=length*length/(sigx*sigx*R)*(1.0-cos(sigx))/beta0;
00032  <span class="keywordflow">else</span>
00033   <a class="code" href="classSectorMap.html#a9">get_T</a>(0,5)=0.0; 
00034  <a class="code" href="classSectorMap.html#a9">get_T</a>(1,0)=-sigx/length*sin(sigx);
00035  <a class="code" href="classSectorMap.html#a9">get_T</a>(1,1)=cos(sigx);
00036  <span class="keywordflow">if</span> (R&gt;0.0)
00037   <a class="code" href="classSectorMap.html#a9">get_T</a>(1,5)=length/(sigx*R)*sin(sigx)/beta0;
00038  <span class="keywordflow">else</span>
00039   <a class="code" href="classSectorMap.html#a9">get_T</a>(1,5)=0.0;
00040  <a class="code" href="classSectorMap.html#a9">get_T</a>(2,2)=cos(sigy);
00041  <a class="code" href="classSectorMap.html#a9">get_T</a>(2,3)=length/sigy*sin(sigy);
00042  <a class="code" href="classSectorMap.html#a9">get_T</a>(3,2)=-sigy/length*sin(sigy);
00043  <a class="code" href="classSectorMap.html#a9">get_T</a>(3,3)=cos(sigy);
00044  <a class="code" href="classSectorMap.html#a9">get_T</a>(4,4)=1.0;
00045  <a class="code" href="classSectorMap.html#a9">get_T</a>(4,5)=-eta0*length/(beta0*beta0);
00046  <a class="code" href="classSectorMap.html#a9">get_T</a>(5,5)=1.0;
00047  twiss.<a class="code" href="structTwissP.html#m0">betx</a>=length/sigx;
00048  twiss.<a class="code" href="structTwissP.html#m1">bety</a>=length/sigy;
00049  twiss.<a class="code" href="structTwissP.html#m2">alpx</a>=0.0;
00050  twiss.<a class="code" href="structTwissP.html#m3">alpy</a>=0.0;
00051  <span class="keywordflow">if</span>( R &gt; 0.0)
00052   twiss.<a class="code" href="structTwissP.html#m4">Dx</a>=pow(length/sigx,2)/R;
00053  <span class="keywordflow">else</span>
00054   twiss.<a class="code" href="structTwissP.html#m4">Dx</a>=0.0; 
00055 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a14" doxytag="SectorMap::phase_advance"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void SectorMap::phase_advance </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>sigx</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>sigy</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
calculates phase advances per element
<p>
Calculates the phase advances per element. 
<p>
Definition at line <a class="el" href="SectorMap_8cpp-source.html#l00107">107</a> of file <a class="el" href="SectorMap_8cpp-source.html">SectorMap.cpp</a>.
<p>
References <a class="el" href="SectorMap_8h-source.html#l00044">get_T()</a>.
<p>
<div class="fragment"><pre>00108 {
00109  <span class="keywordtype">double</span> ah=<a class="code" href="classSectorMap.html#a9">get_T</a>(0,0);
00110  <span class="keywordtype">double</span> dh=<a class="code" href="classSectorMap.html#a9">get_T</a>(1,1); 
00111  <span class="keywordtype">double</span> av=<a class="code" href="classSectorMap.html#a9">get_T</a>(2,2);  
00112  <span class="keywordtype">double</span> dv=<a class="code" href="classSectorMap.html#a9">get_T</a>(3,3);
00113  sigx=acos(0.5*(ah+dh));
00114  sigy=acos(0.5*(av+dv));
00115 }
</pre></div>    </td>
  </tr>
</table>
<a name="a15" doxytag="SectorMap::transport"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void SectorMap::transport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">vektor &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>R1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>vektor &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>R0</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
transport particle coordinates through the sector
<p>
Detailed description 
<p>
Definition at line <a class="el" href="SectorMap_8cpp-source.html#l00091">91</a> of file <a class="el" href="SectorMap_8cpp-source.html">SectorMap.cpp</a>.
<p>
Referenced by <a class="el" href="Pic_8cpp-source.html#l00300">Pic::transport()</a>.
<p>
<div class="fragment"><pre>00092 {
00093  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;6;j++)
00094    {
00095     R1[j]=0.0;
00096     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;6;l++)
00097      R1[j]+=T[j*6+l]*R0[l];             
00098    }
00099 }
</pre></div>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SectorMap_8h-source.html">SectorMap.h</a><li><a class="el" href="SectorMap_8cpp-source.html">SectorMap.cpp</a></ul>
<hr><address style="align: right;"><small>Generated on Wed Oct 14 14:27:07 2009 for Track by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3 </small></address>
</body>
</html>
